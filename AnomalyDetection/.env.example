# CAN異常検出管理システム - 環境変数設定例
# 本番環境用の設定をコピーして .env ファイルを作成してください
# 詳細は ENVIRONMENT_VARIABLES.md を参照

# ============================================
# 必須環境変数
# ============================================

# データベース設定
DB_SERVER=your-sql-server.database.windows.net
DB_NAME=AnomalyDetection_Production
DB_USER=anomalydetection_admin
DB_PASSWORD=YourStrongPassword123!

# 認証・暗号化
CERT_PASSPHRASE=YourCertificatePassphrase123!
ENCRYPTION_PASSPHRASE=YourEncryptionPassphrase123!

# SSL証明書
SSL_CERT_PATH=/app/certs/certificate.pfx
SSL_CERT_PASSWORD=YourCertPassword123!

# ============================================
# オプション環境変数
# ============================================

# Redis (キャッシュ・分散ロック)
REDIS_CONNECTION_STRING=your-redis-server:6379,password=YourRedisPassword123!,ssl=true,abortConnect=false

# RabbitMQ (メッセージング)
RABBITMQ_HOST=your-rabbitmq-server
RABBITMQ_PORT=5672
RABBITMQ_USER=anomalydetection
RABBITMQ_PASSWORD=YourRabbitMQPassword123!

# Elasticsearch (ログ集約)
ELASTICSEARCH_URL=https://your-elasticsearch-server:9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=YourElasticPassword123!

# Application Insights (監視)
APPINSIGHTS_INSTRUMENTATIONKEY=12345678-1234-1234-1234-123456789abc

# ============================================
# ASP.NET Core 設定
# ============================================

ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:80;https://+:443

# ============================================
# Docker Compose 設定
# ============================================

# SQL Server (Docker)
DB_SA_PASSWORD=YourStrongSAPassword123!

# Redis (Docker)
REDIS_PASSWORD=YourRedisPassword123!

# ============================================
# アプリケーション設定
# ============================================

# URL設定
BACKEND_URL=https://api.anomalydetection.example.com
FRONTEND_URL=https://app.anomalydetection.example.com
CORS_ORIGINS=https://app.anomalydetection.example.com,https://*.anomalydetection.example.com

# ログレベル
LOG_LEVEL=Information

# ============================================
# ヘルスチェック設定
# ============================================

HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# ============================================
# バックアップ設定
# ============================================

BACKUP_SCHEDULE=0 2 * * *  # 毎日午前2時
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backup/anomalydetection

# ============================================
# パフォーマンス設定
# ============================================

# データベース接続プール
DB_MAX_POOL_SIZE=100
DB_MIN_POOL_SIZE=5
DB_CONNECTION_TIMEOUT=30

# Kestrel設定
KESTREL_MAX_CONCURRENT_CONNECTIONS=100
KESTREL_MAX_REQUEST_BODY_SIZE=10485760
KESTREL_KEEP_ALIVE_TIMEOUT=120

# ============================================
# セキュリティ設定
# ============================================

# HTTPS強制
REQUIRE_HTTPS=true

# セキュリティヘッダー
ENABLE_SECURITY_HEADERS=true

# ============================================
# 開発環境用設定（本番では使用しない）
# ============================================

# 開発環境でのみ使用
# ASPNETCORE_ENVIRONMENT=Development
# DB_SERVER=(LocalDb)\\MSSQLLocalDB
# DB_NAME=AnomalyDetection
# ASPNETCORE_URLS=https://localhost:44318